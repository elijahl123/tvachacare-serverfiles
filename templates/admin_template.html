{% extends 'base.html' %}

{% block header %}
    <title>Admin - {{ model.title }}</title>
    <style>
        .active-list {
            background: rgba(255, 222, 173, 0.5) !important;
        }

        .admin-list:hover {
            background: rgba(255, 222, 173, 0.3) !important;
        }

        .plus-button:hover {
            background: #eb9132 !important;
        }

        small {
            font-weight: bold;
        }
    </style>
{% endblock %}

{% block content %}
    <main class="d-flex justify-content-center align-items-center" style="min-height: 90vh;">
        <div class="container-fluid shadow"
             style="padding: 30px;background: whitesmoke;font-family: Raleway, sans-serif;width: 90%;border-radius: max(0px, min(8px, calc((100vw - 4px - 100%) * 9999))) / 8px;">
            <div class="row no-gutters">
                <div class="col-md-12 col-lg-4 col-xl-4" style="border-right: 1px solid lightgray;">
                    <h1 style="color: #fc9c34;font-family: Raleway, sans-serif;font-weight: bold;text-align: center;margin-bottom: 20px;">
                        {{ model.title }}</h1>
                    <ul class="list-group">
                        <a href="{% url 'admin-console' %}"
                           class="list-group-item d-flex flex-row justify-content-between align-items-center admin-list"
                           style="text-align: center;font-family: 'Open Sans', sans-serif;font-weight: bold;color: #e28c2e;position: relative;border-top-style: none;border-right-style: none;border-bottom-style: none;border-left-style: none;border-radius: 50px 0 0 50px;margin-bottom: 10px;background: transparent">
                            <i class="fas fa-user-cog d-flex flex-column"
                               style="position: absolute;font-size: 25px;"></i>
                            <span class="flex-grow-1">Admin</span></a>
                        <a href="{% url 'admin_template' 'accounts' %}"
                           class="list-group-item d-flex flex-row justify-content-between align-items-center {% if model.title == 'Accounts' %}active-list {% else %}admin-list{% endif %}"
                           style="text-align: center;font-family: 'Open Sans', sans-serif;font-weight: bold;color: #e28c2e;position: relative;border-top-style: none;border-right-style: none;border-bottom-style: none;border-left-style: none;border-radius: 50px 0 0 50px;background: transparent;margin-bottom: 10px;">
                            <i class="fas fa-user d-flex flex-column" style="position: absolute;font-size: 25px;"></i>
                            <span class="flex-grow-1">Accounts</span></a>
                        <a href="{% url 'admin_template' 'groups' %}"
                           class="list-group-item d-flex flex-row justify-content-between align-items-center {% if model.title == 'Groups' %}active-list {% else %}admin-list{% endif %}"
                           style="text-align: center;font-family: 'Open Sans', sans-serif;font-weight: bold;color: #e28c2e;position: relative;border-top-style: none;border-right-style: none;border-bottom-style: none;border-left-style: none;border-radius: 50px 0 0 50px;background: transparent;margin-bottom: 10px;">
                            <i class="fas fa-users d-flex flex-column" style="position: absolute;font-size: 25px;"></i>
                            <span class="flex-grow-1">Groups</span></a>
                        <a href="{% url 'admin_template' 'event-logs' %}"
                           class="list-group-item d-flex flex-row justify-content-between align-items-center {% if model.title == 'Event Logs' %}active-list {% else %}admin-list{% endif %}"
                           style="text-align: center;font-family: 'Open Sans', sans-serif;font-weight: bold;color: #e28c2e;position: relative;border-top-style: none;border-right-style: none;border-bottom-style: none;border-left-style: none;border-radius: 50px 0 0 50px;background: transparent;margin-bottom: 10px;">
                            <i class="far fa-file-alt d-flex flex-column"
                               style="position: absolute;font-size: 25px;"></i>
                            <span class="flex-grow-1">Event Logs</span></a>
                        <a href="{% url 'admin_template' 'patients' %}"
                           class="list-group-item d-flex flex-row justify-content-between align-items-center {% if model.title == 'Patients' %}active-list {% else %}admin-list{% endif %}"
                           style="text-align: center;font-family: 'Open Sans', sans-serif;font-weight: bold;color: #e28c2e;position: relative;border-top-style: none;border-right-style: none;border-bottom-style: none;border-left-style: none;border-radius: 50px 0 0 50px;background: transparent;margin-bottom: 10px;">
                            <i class="fas fa-user-md d-flex flex-column"
                               style="position: absolute;font-size: 25px;"></i>
                            <span class="flex-grow-1">Patients</span></a>
                        <a href="{% url 'admin_template' 'surgeries' %}"
                           class="list-group-item d-flex flex-row justify-content-between align-items-center {% if model.title == 'Surgeries' %}active-list {% else %}admin-list{% endif %}"
                           style="text-align: center;font-family: 'Open Sans', sans-serif;font-weight: bold;color: #e28c2e;position: relative;border-top-style: none;border-right-style: none;border-bottom-style: none;border-left-style: none;border-radius: 50px 0 0 50px;background: transparent;margin-bottom: 10px;">
                            <i class="fas fa-notes-medical d-flex flex-column"
                               style="position: absolute;font-size: 25px;">
                            </i><span class="flex-grow-1">Surgeries</span></a>
                    </ul>
                </div>
                <div class="col d-flex flex-column"
                     style="height: 60vh;color: slategray;overflow-y: auto; overflow-x: hidden; padding: 10px">
                    <div class="list-group list-group-flush"
                         style="font-family: Raleway, sans-serif;font-weight: bold; border-radius: 8px">
                        {% for item in model.items %}
                            <li style="display:flex; justify-content: space-between; font-weight: bold; position: relative"
                                class="list-group-item flex-lg-row flex-column align-items-center">
                                <a href="{% if model.title == 'Patients' %}
                                {% url 'patient_page' item.slug %}
                                {% elif model.title == 'Surgeries' %}
                                {% url 'surgery_page' item.patient.slug item.id %}
                                         {% endif %}" class="text-lg-left text-center"
                                   style="color: slategray;width: 300px;">{{ item }}</a>
                                {% if model.title == 'Accounts' %}
                                    <span>{{ item.last_name }}, {{ item.first_name }}</span>
                                {% elif model.title == 'Groups' %}
                                {% elif model.title == 'Event Logs' %}
                                    <span>{{ item.event_time }}</span>
                                {% elif model.title == 'Patients' %}
                                    <span>Uploaded: {{ item.uploaded }}</span>
                                {% elif model.title == 'Surgeries' %}
                                    <span>Patient: {{ item.patient }}</span>
                                {% endif %}
                                <button class="btn d-flex justify-content-center align-items-center"
                                        style="padding: 5px; border-radius: 50px" onclick="openItem({{ item.id }})">
                                    <i class="fa fa-cog" style="margin-right: 1px;"></i>
                                </button>
                            </li>
                            <li class="list-group-item list-group-item-secondary item-{{ item.id }}"
                                style="display: none;font-family: 'Open Sans', sans-serif; font-weight: normal;padding: 0">
                                <div role="group" class="btn-group btn-group-sm d-flex"
                                     style="border-radius: 0 !important;">
                                    <button class="btn btn-success" type="button" style="border-style: none;">
                                        <i class="fa fa-edit"></i> Edit
                                    </button>
                                    <button class="btn btn-danger" type="button" style="border-style: none;">
                                        <i class="fa fa-trash"></i> Delete
                                    </button>
                                    <button class="btn btn-info" type="button"
                                            style="border-style: none;">
                                        <i class="fa fa-info-circle"></i> View
                                    </button>
                                </div>
                            </li>
                        {% endfor %}
                        <button class="list-group-item list-group-item-action d-flex justify-content-center align-items-center plus-button"
                                style="background: #FC9C34; color: white; border-color: #FC9C34">
                            <i class="fa fa-plus"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script>
        function openItem(itemid) {
            let itemId = '.item-' + itemid
            $(itemId).slideToggle(100);
        }
    </script>
{% endblock %}